<!DOCTYPE html>
<html>
<head>
<title>Table Trial</title>
<style>
table, th, td {
    border: 1px solid black;
}
</style>
</head>
<body>

	<script id="Calendar" type="text/template">
	
		<table style="width:100%">
		
			<tr>
				
				<td
			
			</tr>
		
		
		</table>
	
	</script>

	<script>
	"use strict";
	function DocumentWriter()
	{
		var docTxt = ""
		var clearText = function()
		{
			docTxt = ""
		}
		var addText = function(txt)
		{
			docTxt += txt
		}
		var overwriteText = function(txt)
		{
			docTxt = txt;
		}
		var documentWrite = function()
		{
			document.write(docTxt)
		}
		var documentWriteClear = function()
		{
			document.write(docTxt)
			docTxt = ""
		}
		var consoleLog = function()
		{
			console.log("StoredText:  " + docTxt)
		}
	}
	
	function Calendar(data)
	{
		var dayNames = [];
		var dayCells = [];
		var month = 0
		var year = 0;
		
		
		
		var setDateParts = function()
		{
			var dateParts = data[0].date.split("-")
			year = dateParts[0]
			month = dateParts[1]
		}
		
		
		setDateParts()
		
		
		var addDayName = function(ftext, fcell_id)
		{
			if (typeof fcell_id === "undefined")
			{
				var n_id = "dn" + dayNames.length.toString()
				dayNames.push({text: ftext, cell_id: n_id})
			}
			else
			{
				dayNames.push({text: ftext, cell_id: fcell_id})
			}
			
		}
		
		var addRow = function()
		{
			dayCells.push([])
		}
		
		var addCell = function(ftext, row, fcell_id)
		{
			if (typeof fcell_id === "undefined")
			{
				if (row >= dayCells.length)
				{
					console.log("Row is out of bounds")
				}
				var n_id = "r" + row.toString() + "c" + dayCells[row].length.toString()
				dayCells[row].push({text: ftext, cell_id: n_id})					
			}
			
			else
			{
				if (row >= dayCells.length)
				{
					console.log("Row is out of bounds")
				}
				dayCells[row].push({text: ftext, cell_id: fcell_id})
			}
		}
		
		
		
		var startDay 
		var getStartDay = function()
		{
			startDay = data[0].day
		}
		
		
		getStartDay()
		
		
		var weekDays = []
		
		var setupWeekDays = function()
		{
			weekDays = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"]
		}
		
		setupWeekDays()
		var dayAmount = data.length
		
	
		var setupDayNames = function()
		{
			for (var i = 0 ; i < weekDays.length; i++)
			{
				addDayName(weekDays[i])
			}
		
		}
		setupDayNames()
		
		
		var dataDay = function(index)
		{
			if (index > 0 && index < data.length)
			{	
				return data[index].date.split("-")[2]
			}
			return -1
		}
		
		



		

		var setupDays = function()
		{
			var weekDone = 0
			var ctr = -startDay
			var rctr = 0
			while (ctr < data.length || weekDone === false)
			{
				addRow()
				for (var i = 0; i < weekDays.length; i++)
				{
					var cday = dataDay(ctr)
					if (cday >= 0)
					{
						addCell(cday, rctr)
						if (data[ctr].day === 6)
						{
							weekDone = true
						}
					}
					else
					{
						addCell("", rctr)
					}
					

					ctr++
				}
				
				rctr++
			}
		
		}

		
		
		setupDays()
		
		console.log(dayCells.length)
		for (var i = 0; i < dayCells.length; i++)
		{
			for (var k = 0; k < dayCells[i].length; k++)
			{
				console.log(i,k, ":  ", dayCells[i][k])
			}
		}
		
		/*return {
			dayNames: dayNames
			dayCells: dayCells
			month: month
			year: year
			
		}
		*/
	}
	

	var data  = [{date: "2016-04-01", day: 3}, {date: "2016-04-02", day: 4}, {date: "2016-04-03", day: 5},
			 {date: "2016-04-04", day: 6}, {date: "2016-04-05", day: 0}, {date: "2016-04-06", day: 1},
			 {date: "2016-04-07", day: 2}, {date: "2016-04-08", day: 3}, {date: "2016-04-09", day: 4}]
	//var data = getData()
	var testCalendar = new Calendar(data)
			
					//How many days in the month
	
	
	
	
	
		
		
		
		
	
	
	</script>
	
</table>

<table>
	<hr>
	
	
	<script>				//makes the table
	
	/*var date = "9/27/2016"
	var schedule = {periods: ["1","2","3","4", "5"], times: [ ["8:15", "9:47"], ["9:52", "11:24"], ["12:06", "1:38"], ["1:43", "3:15"], ["6", "7"] ]}
	
	var resources = [{name: "ChromeBooks_1", ID: "000"}, {name: "ChromeBooks_2", ID: "001"}, {name: "IPads_1", ID: "002"}, {name: "Something_Else", ID: "003"}, {name: "Something_Else_2", ID: "004"}]
	
	
	var periodNames = []
	var timeIntervals = []
	for (i = 0; i < schedule.periods.length; i++)
	{
		periodNames.push("Period "+ schedule.periods[i])
	}
	for (i = 0; i < schedule.times.length; i++)
	{
		timeIntervals.push(schedule.times[i][0] + "-" + schedule.times[i][1])
	}
	
	

	tableWriter.clearText()
	tableWriter.addText("<tr>")
	for (i = -1 ; i < periodNames.length; i++)
	{
		
		tableWriter.addText("<th>")
		if (i > -1)
		{
			tableWriter.addText(periodNames[i] + ": " + timeIntervals[i])
		}
		else
		{
			tableWriter.addText(date)
		}
		tableWriter.addText("</th>")
	}
	tableWriter.addText("</tr>")
	tableWriter.documentWriteClear()
	
	
	for (i = 0; i < resources.length; i++)	//for each week to be displayed
	{
		tableWriter.addText("<tr>")
		tableWriter.addText("<td>" + resources[i].name + "</td>")
		for (k = 0; k < periodNames.length; k++)					//for each week day
		{
			tableWriter.addText("<td>")
			tableWriter.addText("<input type=checkbox name=vehicle value=Bike> <br>")
			tableWriter.addText("</td>")
		}
		
		tableWriter.addText("</tr>")
		tableWriter.documentWriteClear()	
		
	}
	

	*/
		
		
		
		
	
	
	</script>
</table>

</body>



</html>